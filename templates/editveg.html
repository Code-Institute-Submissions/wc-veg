<!-- Form view to enable user to edit info for a single veg -->
{% extends "layout.html" %}

{% block title %}
	{{ "Edit Vegetable Info" }}
{% endblock %}

{% block head %}
  	{{ super() }}
{% endblock %}

{% block content %}
   <h4>Edit {{ veg.common_name.capitalize() }} (Genus & species must be > 2 lowercase letters)...</h4>
<div class="row">
    <form action="{{url_for('updateveg', veg_id = veg._id)}}" method="POST" class="col s12">
        <input type="hidden" name="form_id" value="addveg">
    <div class="row">
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">category</i>
                <select id="category_name" name="category_name">
                    <option value="" disabled selected>Choose Category</option>
                    {% for cat in categories %}
                        {% if cat.category_name == veg.category_name %}
                            <option value="{{cat.category_name}}" selected >{{cat.category_name}}</option>
                        {% else %}
                            <option value="{{cat.category_name}}">{{cat.category_name}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
                <label>Veg Category</label>
            </div>
        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix">grade</i>
            <input class = "common_name" id="common_name" name="common_name" type="text" disabled value="{{veg.common_name}}">
            <label for="common_name">Veg Name</label>
        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix">grade</i>
            <input class = "genus" id="genus" name="genus" type="text" pattern="[a-z]{3,}" value="{{veg.genus}}">
            <label for="genus">Genus</label>
        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix">grade</i>
            <input id="species" name="species" type="text" pattern="[a-z]{3,}" value="{{veg.species}}">
            <label for="species">Species</label>
        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix">grade</i>
            <input id="other_names" name="other_names" type="text" value="{{veg.other_names}}">
            <label for="other_names">Other Names</label>
        </div>
    </div>
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">subject</i>
                <textarea name="description" id="description" class="materialize-textarea"> {{veg.description}} </textarea>
                <label for="description">Description</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">subject</i>
                <textarea name="grow_notes" id="grow_notes" class="materialize-textarea"> {{veg.grow_notes}} </textarea>
                <label for="grow_notes">Growing Notes</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">subject</i>
                <textarea name="cook_notes" id="cook_notes" class="materialize-textarea"> {{veg.cook_notes}} </textarea>
                <label for="cook_notes">Cooking Notes</label>
            </div>
        </div>
        <button class="btn text-bold black-text green accent-4  waves-effect waves-light" type="submit" name="action">Update Database
            <i class="material-icons right">send</i>
        </button>
        <button class="btn text-bold black-text orange accent-4  waves-effect waves-light right" name="action"><a href="{{ url_for('veg') }}">Cancel</a>
            <i class="material-icons right">cancel</i>
        </button>
    </form>
</div>
{% endblock %} 